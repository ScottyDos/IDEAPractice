CREATE OR REPLACE NONEDITIONABLE FUNCTION GET_MILLISECOND(THISTIME DATE)
RETURN NUMBER IS
  Result NUMBER(13);
BEGIN
  --in  date
  --out 1149124496734

  SELECT (THISTIME-to_date('1970-01-01 08:00:00','YYYY-MM-DD HH24:mi:ss'))*86400000
  INTO Result
  FROM DUAL;

  RETURN Result;

END GET_MILLISECOND;
/
